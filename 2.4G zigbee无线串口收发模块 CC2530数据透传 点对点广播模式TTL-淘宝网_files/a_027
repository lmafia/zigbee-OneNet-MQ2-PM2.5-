KISSY.add("kg/anticheat/0.0.1/index",["ua","node"],function(n,o){var t=o("ua"),e=o("node");return{init:function(o){if(!t.mobile){var i,r,a,u,c=function(n){(window.goldlog_queue||(window.goldlog_queue=[])).push({action:"goldlog.record",arguments:["/tongji","",n,"H51884970"]})},l=["ctrlKey","metaKey","altKey","shiftKey"],d=function(n){for(var o=0,t=[],e=0;4>e;e++)if(n[l[e]]&&(o++,t.push(l[e])),2===o)return t;return!1},w=function(){return window.TB&&window.TB.Global&&window.TB.Global.util&&window.TB.Global.util.getNick()||""},f=function(){return""};n.ready(function(){var l=e.one("body");l.on("keydown",function(e){var l="ctrlKey";"macintosh"===t.os&&(l="metaKey"),u=d(e),u&&(i=n.now(),r=0,a=0);var s="";if(e[l]&&(e.which==="V".charCodeAt(0)?s="ctrl-v":e.which==="F".charCodeAt(0)&&(s="ctrl-f"),s)){var y={nick:w(),q:f(),time:n.now(),type:s,from:o},h=n.param(y);c(h)}}),l.on("mouseleave",function(){u&&(r=n.now())}),l.on("mouseenter",function(){u&&(a=n.now(),c(n.param({type:"shortcut",assistKeys:u,nick:w(),q:f(),keydown:i,start:r,end:a,from:o})),u=null)})})}}}});