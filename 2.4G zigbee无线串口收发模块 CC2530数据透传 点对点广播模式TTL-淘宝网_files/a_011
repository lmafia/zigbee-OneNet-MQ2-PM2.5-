define("kg/overlay/6.1.3/index",["node","ua","util","kg/xtemplate/4.3.0/runtime","kg/component/6.0.9/container","kg/component/6.0.9/extension/shim","kg/component/6.0.9/extension/align","kg/component/6.0.9/extension/content-box","util","node","event"],function(e,t,n){var a,s,o,i,r,l,c,d,u,f,v,p,h=e("node"),g=e("ua"),m=e("util"),y=e("kg/xtemplate/4.3.0/runtime"),x=e("kg/component/6.0.9/container"),C=e("kg/component/6.0.9/extension/shim"),b=e("kg/component/6.0.9/extension/align"),_=e("kg/component/6.0.9/extension/content-box"),w=e("util"),k=e("node"),E=e("event");a=function(e){"use strict";function t(){}var n=h;return t.prototype={loading:function(){var e=this;e._loadingExtEl||(e._loadingExtEl=n('<div class="'+e.get("prefixCls")+'ext-loading" style="position: absolute;border: none;width: 100%;top: 0;left: 0;z-index: 99999;height:100%;*height: expression(this.parentNode.offsetHeight);"/>').appendTo(e.$el)),e._loadingExtEl.show()},unloading:function(){this._loadingExtEl&&this._loadingExtEl.hide()}},e=t}(),s=function(e){"use strict";function t(){return c?"expression(KISSY.DOM.docWidth())":"100%"}function n(){return c?"expression(KISSY.DOM.docHeight())":"100%"}function a(e,a){var s=e.getBaseCssClasses("mask"),o=d('<div  style="width:'+t()+";left:0;top:0;height:"+n()+";position:"+(c?"absolute":"fixed")+';" class="'+s+" "+a+'">'+(c?'<iframe style="position:absolute;left:0;top:0;background:red;width: expression(this.parentNode.offsetWidth);height: expression(this.parentNode.offsetHeight);filter:alpha(opacity=0);z-index:-1;"></iframe>':"")+"</div>").prependTo("body");return o.unselectable(),o.on("mousedown",function(e){e.preventDefault()}),o}function s(){}function o(e,t){var n=e.get("maskNode"),a=e.getBaseCssClasses("mask-hidden");t?n.removeClass(a):n.addClass(a)}function i(e,t,n,a){var s=e.effect||u;if(o(a,n),s!==u){var i,r=e.duration,l=e.easing,c=n?1:0;t.stop(1,1),t.css("display",n?u:"block"),i=s+f[s][c],t[i](r,function(){t.css("display","")},l)}}function r(e){var t,n=this,a=n.get("maskNode");if(t=e.newVal){var s=Number(n.$el.css("z-index"));isNaN(s)||a.css("z-index",s)}i(n.get("mask"),a,t,n)}var l=g,c=6===l.ie,d=h;s.ATTRS={mask:{value:!1},maskNode:{}};var u="none",f={fade:["Out","In"],slide:["Up","Down"]};return s.prototype={__renderUI:function(){var e=this;e.get("mask")&&e.set("maskNode",a(e,e.get("visible")?"":e.getBaseCssClasses("mask-hidden")))},__bindUI:function(){var e,t,n=this;(t=n.get("mask"))&&(e=n.get("maskNode"),t.closeOnClick&&e.on("tap",n.close,n),n.on("afterVisibleChange",r))},__destructor:function(){var e;(e=this.get("maskNode"))&&e.remove()}},e=s}(),o=function(e){"use strict";function t(e){var t=e.$el,n=t.clone(!0);return n.css({visibility:"hidden",overflow:"hidden"}).addClass(e.get("prefixCls")+"overlay-ghost"),e.__afterCreateEffectGhost(n)}function n(e,n){e.__effectGhost&&e.__effectGhost.stop(1,1);var a,s,o,i,l=e.$el,c=h,d=e.get("effect"),u=c(d.target),f=d.duration,v={width:u.width(),height:u.height()},p=u.offset(),g={width:l.width(),height:l.height()},m=l.offset(),y=t(e),x=d.easing;y.insertAfter(l),n?(a=v,o=p,s=g,i=m):(a=g,o=m,s=v,i=p),y.offset(i),r.mix(s,{left:y.css("left"),top:y.css("top")}),l.css("visibility","hidden"),y.css(a),y.offset(o),e.__effectGhost=y,y.css("visibility","visible"),y.animate(s,{Anim:d.Anim,duration:f,easing:x,complete:function(){e.__effectGhost=null,y.remove(),l.css("visibility","")}})}function a(e,t){var a=e.$el,s=e.get("effect"),o=s.effect||"none",r=s.target;if("none"!==o||r){if(r)return void n(e,t);var l=s.duration,c=s.easing,d=t?1:0;a.stop(1,1),a.css({visibility:"visible",display:t?"none":"block"});var u=o+i[o][d];a[u]({duration:l,Anim:s.Anim,complete:function(){a.css({display:"block",visibility:""})},easing:c})}}function s(e){a(this,e.newVal)}function o(){}var i={fade:["Out","In"],slide:["Up","Down"]},r=m;return o.ATTRS={effect:{valueFn:function(){return{effect:"",target:null,duration:.5,easing:"easeOut"}},setter:function(e){var t=e.effect;"string"!=typeof t||i[t]||(e.effect="")}}},o.prototype={__afterCreateEffectGhost:function(e){return e},__bindUI:function(){this.on("afterVisibleChange",s,this)}},e=o}(),i=function(e){"use strict";var t=y;return e=function(){var e=new t(function(e){function t(e,t,n){var a=e.data,i=e.affix;t.data+='\n        <a href="javascript:void(\'close\')"\n           aria-label="Close"\n           class="',c.line=5;var r;r=f(o,e,{params:["close"]},t,["getBaseCssClasses"]);var l=r;t=t.writeEscaped(l),t.data+="\"\n           role='button'>\n            <span class=\"",c.line=7;var d;d=f(o,e,{params:["close-x"]},t,["getBaseCssClasses"]);var u=d;t=t.writeEscaped(u),t.data+='">';var v=(s=i.closeText)!==n?s:(s=a.closeText)!==n?s:e.resolveLooseUp(["closeText"]);return t=t.write(v),t.data+="</span>\n        </a>\n    ",t}function n(e,n,a){var i=e.data,r=e.affix;n.data+="\n    ",c.line=2,c.line=2;var l=(s=r.closable)!==a?s:(s=i.closable)!==a?s:e.resolveLooseUp(["closable"]);return n=v.call(o,e,{params:[l],fn:t},n),n.data+="\n",n}function a(e,t,n){var a=e.data,o=e.affix;t.data+="\n        ",c.line=14;var i=(s=o.content)!==n?s:(s=a.content)!==n?s:e.resolveLooseUp(["content"]);return t=t.write(i),t.data+="\n    ",t}var s,o=this,i=o.root,r=o.buffer,l=o.scope,c=(o.runtime,o.name,o.pos),d=(l.data,l.affix,i.nativeCommands),u=i.utils,f=u.callFn,v=(u.callDataFn,u.callCommand,d.range,d["void"],d.foreach,d.forin,d.each,d["with"],d["if"]),p=(d.set,d.include,d.parse,d.extend,d.block);d.macro,d["debugger"];r.data+="",r=p.call(o,l,{params:["ks-overlay-closable"],fn:n},r),r.data+='\n\n<div class="',c.line=12;var h;h=f(o,l,{params:["content"]},r,["getBaseCssClasses"]);var g=h;return r=r.writeEscaped(g),r.data+='">\n    ',c.line=13,r=p.call(o,l,{params:["ks-overlay-content"],fn:a},r),r.data+="\n</div>",r});return e.render.apply(e,arguments)}}(),r=function(e){"use strict";var t=y;return e=function(){var e=new t(function(e){function t(e,t,n){var a=e.data,s=e.affix;t.data+='\n        <a href="javascript:void(\'close\')"\n           aria-label="Close"\n           class="',u.line=5;var o;o=g(r,e,{params:["close"]},t,["getBaseCssClasses"]);var l=o;t=t.writeEscaped(l),t.data+="\"\n           role='button'>\n            <span class=\"",u.line=7;var c;c=g(r,e,{params:["close-x"]},t,["getBaseCssClasses"]);var d=c;t=t.writeEscaped(d),t.data+='">';var f=(i=s.closeText)!==n?i:(i=a.closeText)!==n?i:e.resolveLooseUp(["closeText"]);return t=t.write(f),t.data+="</span>\n        </a>\n    ",t}function n(e,n,a){var s=e.data,o=e.affix;n.data+="\n    ",u.line=2,u.line=2;var l=(i=o.closable)!==a?i:(i=s.closable)!==a?i:e.resolveLooseUp(["closable"]);return n=y.call(r,e,{params:[l],fn:t},n),n.data+="\n",n}function a(e,t,n){var a=e.data,s=e.affix;t.data+="\n                 ",u.line=15;var o=(i=s.xindex)!==n?i:(i=a.xindex)!==n?i:e.resolveLooseUp(["xindex"]);t=t.writeEscaped(o),t.data+=":";var r=a;return t=t.writeEscaped(r),t.data+=";\n             ",t}function s(e,t,n){var a=e.data,s=e.affix;t.data+="\n                 ",u.line=22;var o=(i=s.xindex)!==n?i:(i=a.xindex)!==n?i:e.resolveLooseUp(["xindex"]);t=t.writeEscaped(o),t.data+=":";var r=a;return t=t.writeEscaped(r),t.data+=";\n             ",t}function o(e,t,n){var a=e.data,s=e.affix;t.data+="\n                 ",u.line=29;var o=(i=s.xindex)!==n?i:(i=a.xindex)!==n?i:e.resolveLooseUp(["xindex"]);t=t.writeEscaped(o),t.data+=":";var r=a;return t=t.writeEscaped(r),t.data+=";\n             ",t}var i,r=this,l=r.root,c=r.buffer,d=r.scope,u=(r.runtime,r.name,r.pos),f=d.data,v=d.affix,p=l.nativeCommands,h=l.utils,g=h.callFn,m=(h.callDataFn,h.callCommand,p.range,p["void"],p.foreach,p.forin,p.each),y=(p["with"],p["if"]),x=(p.set,p.include,p.parse,p.extend,p.block);p.macro,p["debugger"];c.data+="",c=x.call(r,d,{params:["ks-overlay-closable"],fn:n},c),c.data+='\n<div class="',u.line=11;var C;C=g(r,d,{params:["content"]},c,["getBaseCssClasses"]);var b=C;c=c.writeEscaped(b),c.data+='">\n    <div class="',u.line=12;var _;_=g(r,d,{params:["header"]},c,["getBaseCssClasses"]);var w=_;c=c.writeEscaped(w),c.data+='"\n         style="\n             ',u.line=14,u.line=14;var k=(i=v.headerStyle)!==e?i:(i=f.headerStyle)!==e?i:d.resolveLooseUp(["headerStyle"]);c=m.call(r,d,{params:[k],fn:a},c),c.data+='\n                 ">',u.line=17;var E=(i=v.headerContent)!==e?i:(i=f.headerContent)!==e?i:d.resolveLooseUp(["headerContent"]);c=c.write(E),c.data+='</div>\n\n    <div class="',u.line=19;var T;T=g(r,d,{params:["body"]},c,["getBaseCssClasses"]);var S=T;c=c.writeEscaped(S),c.data+='"\n         style="\n             ',u.line=21,u.line=21;var B=(i=v.bodyStyle)!==e?i:(i=f.bodyStyle)!==e?i:d.resolveLooseUp(["bodyStyle"]);c=m.call(r,d,{params:[B],fn:s},c),c.data+='\n                 ">',u.line=24;var U=(i=v.bodyContent)!==e?i:(i=f.bodyContent)!==e?i:d.resolveLooseUp(["bodyContent"]);c=c.write(U),c.data+='</div>\n\n    <div class="',u.line=26;var L;L=g(r,d,{params:["footer"]},c,["getBaseCssClasses"]);var D=L;c=c.writeEscaped(D),c.data+='"\n         style="\n             ',u.line=28,u.line=28;var A=(i=v.footerStyle)!==e?i:(i=f.footerStyle)!==e?i:d.resolveLooseUp(["footerStyle"]);c=m.call(r,d,{params:[A],fn:o},c),c.data+='\n                 ">',u.line=31;var N=(i=v.footerContent)!==e?i:(i=f.footerContent)!==e?i:d.resolveLooseUp(["footerContent"]);return c=c.write(N),c.data+='</div>\n    <div tabindex="0"></div>\n</div>\n\n',c});return e.render.apply(e,arguments)}}(),l=function(e){"use strict";return e=i}(),c=function(e){"use strict";return e=r}(),d=function(e){"use strict";var t=x,n=C,i=b,r=a,c=s,d=o,u=_,f=l,v="hide",p={hide:v,destroy:"destroy"};return e=t.extend([u,n,r,i,c,d],{bindUI:function(){var e=this,t=e.get("closeBtn");t&&t.on("click",function(t){e.close(),t.preventDefault()})},close:function(){var e=this;return e[p[e.get("closeAction")]||v](),e}},{ATTRS:{handleGestureEvents:{value:!1},focusable:{value:!1},allowTextSelection:{value:!0},contentTpl:{value:f},closable:{value:!1,sync:0,render:1,parse:function(){return!!this.get("closeBtn")}},closeBtn:{selector:function(){return"."+this.getBaseCssClass("close")}},closeAction:{value:v},closeText:{value:"close",render:1},visible:{value:!1}},xclass:"overlay"})}(),u=function(e){"use strict";function t(e,t,n){t=e.get(t),t.html(n)}function n(e){var t=this,n=e.keyCode;if(n===u){var a=t.$el,s=o(e.target),i=a.last();if(s.equals(a)&&e.shiftKey)i[0].focus(),e.halt();else if(s.equals(i)&&!e.shiftKey)t.focus(),e.halt();else if(s.equals(a)||a.contains(s))return;e.halt()}}var a=w,s=d,o=k,i=c,r=E,l=s.extend({beforeCreateDom:function(e){a.mix(e.elAttrs,{role:"dialog","aria-labelledby":"ks-stdmod-header-"+this.get("id")})},getChildrenContainerEl:function(){return this.get("body")},__afterCreateEffectGhost:function(e){var t=this,n=t.get("body");return e.all("."+t.get("prefixCls")+"stdmod-body").css({height:n.height(),width:n.width()}).html(""),e},handleKeyDownInternal:function(e){return this.get("escapeToClose")&&e.keyCode===r.KeyCode.ESC?void(("select"!==e.target.nodeName.toLowerCase()||e.target.disabled)&&(this.close(),e.halt())):void n.call(this,e)},_onSetBodyContent:function(e){t(this,"body",e)},_onSetHeaderContent:function(e){t(this,"header",e)},_onSetFooterContent:function(e){t(this,"footer",e)}},{ATTRS:{focusable:{value:!0},contentTpl:{value:i},header:{selector:function(){return"."+this.getBaseCssClass("header")}},body:{selector:function(){return"."+this.getBaseCssClass("body")}},footer:{selector:function(){return"."+this.getBaseCssClass("footer")}},bodyStyle:{sync:0},footerStyle:{render:1},headerStyle:{render:1},headerContent:{value:"",sync:0,render:1,parse:function(){return this.get("header").html()}},bodyContent:{value:"",sync:0,render:1,parse:function(){return this.get("body").html()}},footerContent:{value:"",sync:0,render:1,parse:function(){return this.get("footer").html()}},closable:{value:!0},escapeToClose:{value:!0}},xclass:"dialog"}),u=r.KeyCode.TAB;return e=l}(),f=function(e){"use strict";function t(){var e,t=this,s=t.get("trigger");t.__mouseEnterPopup=function(n){a.call(t),e=l.later(function(){o.call(t,n),e=void 0},1e3*t.get("mouseDelay"))},s.on("mouseenter",t.__mouseEnterPopup),t._mouseLeavePopup=function(){e&&(e.cancel(),e=void 0),n.call(t)},s.on("mouseleave",t._mouseLeavePopup)}function n(){var e=this,t=1e3*e.get("mouseDelay");e._hiddenTimer=l.later(function(){i.call(e)},t)}function a(){var e=this;e._hiddenTimer&&(e._hiddenTimer.cancel(),e._hiddenTimer=void 0)}function s(){var e=this;e.__clickPopup=function(t){t.preventDefault(),e.get("toggle")?(e.get("visible")?i:o).call(e,t):o.call(e,t)},e.get("trigger").on("click",e.__clickPopup)}function o(e){var t=this;t.set("currentTrigger",c(e.target)),t.show()}function i(){this.set("currentTrigger",void 0),this.hide()}var r=d,l=w,c=k;return e=r.extend({initializer:function(){var e=this,n=e.get("trigger");n&&("mouse"===e.get("triggerType")?t.call(e):s.call(e))},bindUI:function(){var e=this,t=e.get("trigger");t&&"mouse"===e.get("triggerType")&&e.$el.on("mouseleave",n,e).on("mouseenter",a,e)},destructor:function(){var e=this,t=e.$el,s=e.get("trigger");s&&(e.__clickPopup&&s.detach("click",e.__clickPopup),e.__mouseEnterPopup&&s.detach("mouseenter",e.__mouseEnterPopup),e._mouseLeavePopup&&s.detach("mouseleave",e._mouseLeavePopup)),t&&t.detach("mouseleave",n,e).detach("mouseenter",a,e)}},{ATTRS:{trigger:{setter:function(e){return c(e)}},triggerType:{value:"click"},currentTrigger:{},mouseDelay:{value:.1},toggle:{value:!1}},xclass:"popup"})}(),v=function(e){"use strict";var t=d,n=u,a=f;return t.Dialog=n,t.Popup=a,e=t}(),p=function(e){"use strict";return e=v,n.exports.version="6.0.0",e}(),n.exports=p});KISSY.add("kg/header/1.4.2/container/container-xtpl",function(e,a,t,n){var r=function(e){var a=this,t=a.root,n=a.buffer,r=a.scope,i=(a.runtime,a.name,a.pos,r.data,r.affix,t.nativeCommands),s=t.utils;s.callFn,s.callDataFn,s.callCommand,i.range,i.foreach,i.forin,i.each,i["with"],i["if"],i.set,i.include,i.parse,i.extend,i.block,i.macro,i["debugger"];return n.data+='<div class="tb-header" role="banner">\n<div class="tb-header-content">\n</div>\n</div>',n};return r.TPL_NAME=n.name,r.version="kg",r}),KISSY.add("kg/header/1.4.2/market/market-xtpl",function(e,a,t,n){var r=function(e){var a=this,t=a.root,n=a.buffer,r=a.scope,i=(a.runtime,a.name,a.pos,r.data,r.affix,t.nativeCommands),s=t.utils;s.callFn,s.callDataFn,s.callCommand,i.range,i.foreach,i.forin,i.each,i["with"],i["if"],i.set,i.include,i.parse,i.extend,i.block,i.macro,i["debugger"];return n.data+='<div id="J_Market" class="tb-header-market" role="dialog">\n    <a href="javascript:" class="tb-header-market-hd">\u66f4\u591a\u5e02\u573a<i class="tb-header-market-icon"><em></em><span></span></i></a>\n    <div class="tb-header-market-bd"></div>\n</div>',n};return r.TPL_NAME=n.name,r.version="kg",r}),KISSY.add("kg/header/1.4.2/market/market-hover-xtpl",function(e,a,t,n){var r=function(e){function a(e,a,t){var n=e.data,r=e.affix;a.data+='\n    <dd><a href="',d.line=6;var s=(i=r.href)!==t?i:n.href;a=a.writeEscaped(s),a.data+='" target="_blank">';var o=(i=r.text)!==t?i:n.text;return a=a.writeEscaped(o),a.data+="</a></dd>\n    ",a}function t(e,t,n){var r=e.data,o=e.affix;t.data+='\n<dl>\n    <dt><a href="',d.line=4;var c=(i=o.href)!==n?i:r.href;t=t.writeEscaped(c),t.data+='" target="_blank">';var l=(i=o.text)!==n?i:r.text;t=t.writeEscaped(l),t.data+="</a></dt>\n    ",d.line=5,d.line=5;var u=(i=o.subMarkets)!==n?i:r.subMarkets;return t=f.call(s,e,{params:[u],fn:a},t),t.data+="\n</dl>\n",t}function n(e,a,n){var r=e.data,o=e.affix;a.data+="\n",d.line=2,d.line=2;var c=(i=o.data)!==n?i:(i=r.data)!==n?i:e.resolveLooseUp(["data"]);return a=f.call(s,e,{params:[c],fn:t},a),a.data+="\n",a}function r(e,a,t){e.data,e.affix;return a.data+="\n    <div>\u7f51\u7edc\u5f02\u5e38</div>\n",a}var i,s=this,o=s.root,c=s.buffer,l=s.scope,d=(s.runtime,s.name,s.pos),u=l.data,h=l.affix,m=o.nativeCommands,p=o.utils,f=(p.callFn,p.callDataFn,p.callCommand,m.range,m.foreach,m.forin,m.each),v=(m["with"],m["if"]);m.set,m.include,m.parse,m.extend,m.block,m.macro,m["debugger"];c.data+="",d.line=1,d.line=1;var g=(i=h.data)!==e?i:(i=u.data)!==e?i:l.resolveLooseUp(["data"]);return c=v.call(s,l,{params:[g],fn:n,inverse:r},c),c.data+="\n",c};return r.TPL_NAME=n.name,r.version="kg",r}),KISSY.add("kg/header/1.4.2/events",function(e){return{emitter:e.all("body"),HEADER_MARKET_HOVER:"header:market:hover",HEADER_SEARCH_SHOP:"header:search:shop",HEADER_SEARCH_TB:"header:search:tb"}}),KISSY.add("kg/header/1.4.2/market/market",["node","base","kg/xtemplate/4.2.0/runtime","io","./market-xtpl","./market-hover-xtpl","../events"],function(e,a){var t=a("node"),n=a("base"),r=a("kg/xtemplate/4.2.0/runtime"),i=a("io"),s=a("./market-xtpl"),o=a("./market-hover-xtpl"),c=a("../events"),l=c.emitter,d=t.all,u="tb-header-hover",h="mouseenter",m="mouseleave",p=300,f=null,v=null,g=n.extend({initializer:function(){},render:function(e){var a=new r(s),t=a.render(),n=d(t);this.set("el",n),e=e||this.get("render"),e.append(n)},renderHover:function(e,a){function t(t){var i=new r(o),s=i.render({data:t});e.css({background:"#fff",height:"auto"}),e.html(s);var c=e.height()+16;n.height=c,e.css({height:0}),a(c)}var n=this;if(this.get("rendered"))a(n.height);else{this.set("rendered",!0);new i({url:"//www.taobao.com/go/rgn/vertical/jsonp.php",data:{},jsonp:"cb",dataType:"jsonp",success:function(e,a,n){t(e)},error:function(e,a,n){t(e)}})}},bind:function(){var e=this,a=this.$el,t=d(".tb-header-market-bd",a);a.on([h,m].join(" "),function(n){v&&v.stop(),n.type==h?f=setTimeout(function(){a.addClass(u),l.fire(c.HEADER_MARKET_HOVER),e.renderHover(t,function(e){v=t.animate({height:e},{duration:.5,easing:"backOut"}),f=null})},p):f?(clearTimeout(f),a.removeClass(u)):v=t.animate({height:0},{duration:.3,easing:"backIn",complete:function(){a.removeClass(u)}})})}},{ATTRS:{el:{setter:function(e){this.$el=e,this.el=e[0]}},render:{}}});return g}),KISSY.add("kg/header/1.4.2/search/search-xtpl",function(e,a,t,n){var r=function(e){function a(e,a,n){var r=e.data,i=e.affix;a.data+='\n                <button class="J_SecondarySearch search-button secondary" type="submit" data-action="',o.line=7;var s=(t=i.secondaryAction)!==n?t:(t=r.secondaryAction)!==n?t:e.resolveLooseUp(["secondaryAction"]);a=a.writeEscaped(s),a.data+='">\n                    ',o.line=8;var c=(t=i.secondaryButton)!==n?t:(t=r.secondaryButton)!==n?t:e.resolveLooseUp(["secondaryButton"]);return a=a.writeEscaped(c),a.data+="\n                </button>\n                ",a}var t,n=this,r=n.root,i=n.buffer,s=n.scope,o=(n.runtime,n.name,n.pos),c=s.data,l=s.affix,d=r.nativeCommands,u=r.utils,h=(u.callFn,u.callDataFn,u.callCommand,d.range,d.foreach,d.forin,d.each,d["with"],d["if"]);d.set,d.include,d.parse,d.extend,d.block,d.macro,d["debugger"];i.data+='<div class="J_Search tb-header-search search ';var m=(t=l.elCls)!==e?t:(t=c.elCls)!==e?t:s.resolveLooseUp(["elCls"]);i=i.writeEscaped(m),i.data+='" role="search">\n    <div class="search-panel">\n        <form target="_top" action="',o.line=3;var p=(t=l.primaryAction)!==e?t:(t=c.primaryAction)!==e?t:s.resolveLooseUp(["primaryAction"]);i=i.writeEscaped(p),i.data+='" name="search" class="J_SearchForm">\n            <div class="search-buttons">\n                <button class="J_PrimarySearch search-button primary" type="submit">',o.line=5;var f=(t=l.primaryButton)!==e?t:(t=c.primaryButton)!==e?t:s.resolveLooseUp(["primaryButton"]);i=i.writeEscaped(f),i.data+="</button>\n                ",o.line=6,o.line=6;var v=(t=l.secondaryShow)!==e?t:(t=c.secondaryShow)!==e?t:s.resolveLooseUp(["secondaryShow"]);return i=h.call(n,s,{params:[v],fn:a},i),i.data+='\n            </div>\n            <div class="search-panel-fields">\n                <input class="J_Suggest" name="q" accesskey="s" autocomplete="off">\n            </div>\n            <div class="J_HiddenFields">\n              <input type="hidden" value="newHeader" name="s_from">\n              <input type="hidden" name="ssid" value="s5-e">\n              <input type="hidden" name="search_type" value="item">\n              <input type="hidden" name="sourceId" value="tb.item">\n            </div>\n        </form>\n    </div>\n</div>\n',i};return r.TPL_NAME=n.name,r.version="kg",r}),KISSY.add("kg/header/1.4.2/search/params-xtpl",function(e,a,t,n){var r=function(e){function a(e,a,n){var r=e.data,i=e.affix;a.data+='\n<input type="hidden" name="',o.line=2;var s=(t=i.name)!==n?t:(t=r.name)!==n?t:e.resolveLooseUp(["name"]);a=a.writeEscaped(s),a.data+='" value="';var c=(t=i.value)!==n?t:(t=r.value)!==n?t:e.resolveLooseUp(["value"]);return a=a.writeEscaped(c),a.data+='">\n',a}var t,n=this,r=n.root,i=n.buffer,s=n.scope,o=(n.runtime,n.name,n.pos),c=(s.data,s.affix,r.nativeCommands),l=r.utils,d=(l.callFn,l.callDataFn,l.callCommand,c.range,c.foreach,c.forin,c.each);c["with"],c["if"],c.set,c.include,c.parse,c.extend,c.block,c.macro,c["debugger"];i.data+="",o.line=1,o.line=1;var u=s.root.data;return i=d.call(n,s,{params:[u,"value","name"],fn:a},i),i.data+="\n",i};return r.TPL_NAME=n.name,r.version="kg",r}),KISSY.add("kg/header/1.4.2/search/search",["node","base","util","kg/xtemplate/4.2.0/runtime","../events","./search-xtpl","./params-xtpl","tbc/search-suggest/1.4.5/new_suggest.css","tbc/search-suggest/1.4.5/index"],function(e,a){var t=a("node"),n=a("base"),r=a("util"),i=a("kg/xtemplate/4.2.0/runtime"),s=t.all,o=a("../events"),c=a("./search-xtpl"),l=a("./params-xtpl"),d=o.emitter,u=n.extend({initializer:function(){},render:function(e){var a=new i(c).render({primaryAction:this.get("primaryAction"),primaryButton:this.get("primaryButton"),secondaryAction:this.get("secondaryAction"),secondaryButton:this.get("secondaryButton"),secondaryShow:this.get("secondaryShow"),elCls:this.get("elCls")}),t=s(a);this.set("el",t),e=e||this.get("render"),e.append(t)},bind:function(){a("tbc/search-suggest/1.4.5/new_suggest.css");var e=a("tbc/search-suggest/1.4.5/index"),t=this.$el,n=this.get("secondaryParams"),c=(new e({plugins:[],sugConfig:{sourceUrl:"//suggest.taobao.com/sug?k=1&area=c2c",node:s(".J_Suggest",t),focused:!1,resultFormat:""},mods:{sort:["list"]}}),s(".J_SecondarySearch",t));c.on("click",function(){d.fire(o.HEADER_SEARCH_SHOP);var e=c.attr("data-action");e&&(s(".J_SearchForm",t).attr("action",e),r.keys(n).length>0&&s(".J_HiddenFields",t).html(new i(l).render(n)))});var u=s(".J_PrimarySearch",t);u.on("click",function(){d.fire(o.HEADER_SEARCH_TB)})}},{ATTRS:{el:{setter:function(e){this.$el=e,this.el=e[0]}},render:{},elCls:{value:""},primaryAction:{value:"//s.taobao.com/search"},primaryButton:{value:"\u641c\u6dd8\u5b9d"},secondaryAction:{value:""},secondaryParams:{value:{}},secondaryButton:{value:"\u641c\u672c\u5e97"},secondaryShow:{value:!0}}});return u}),KISSY.add("kg/header/1.4.2/logo/logo-xtpl",function(e,a,t,n){var r=function(e){var a,t=this,n=t.root,r=t.buffer,i=t.scope,s=(t.runtime,t.name,t.pos),o=i.data,c=i.affix,l=n.nativeCommands,d=n.utils;d.callFn,d.callDataFn,d.callCommand,l.range,l.foreach,l.forin,l.each,l["with"],l["if"],l.set,l.include,l.parse,l.extend,l.block,l.macro,l["debugger"];r.data+='<div class="tb-header-logo">\n    <a href="',s.line=2;var u=(a=c.href)!==e?a:(a=o.href)!==e?a:i.resolveLooseUp(["href"]);r=r.writeEscaped(u),r.data+='" target="_blank" title="';var h=(a=c.title)!==e?a:(a=o.title)!==e?a:i.resolveLooseUp(["title"]);r=r.writeEscaped(h),r.data+='">\n        <img style="height: ',s.line=3;var m=(a=c.height)!==e?a:(a=o.height)!==e?a:i.resolveLooseUp(["height"]),p=m;p||(p="38px"),r=r.writeEscaped(p),r.data+='" alt="\u6dd8\u5b9d\u7f51logo" src="';var f=(a=c.src)!==e?a:(a=o.src)!==e?a:i.resolveLooseUp(["src"]);return r=r.writeEscaped(f),r.data+='">\n    </a>\n</div>\n',r};return r.TPL_NAME=n.name,r.version="kg",r}),KISSY.add("kg/header/1.4.2/logo/logo",["node","base","kg/xtemplate/4.2.0/runtime","./logo-xtpl","../events"],function(e,a){var t=a("node"),n=a("base"),r=a("kg/xtemplate/4.2.0/runtime"),i=a("./logo-xtpl"),s=a("../events"),o=(s.emitter,t.all),c=e.isArray,l=n.extend({initializer:function(){},render:function(e){var a=new r(i),t=window.devicePixelRatio>1,n=this.get("src");c(n)&&(n=(t?n[1]:n[0])||n[0]);var s=a.render({href:this.get("href"),src:n,title:this.get("title"),height:this.get("height")}),l=o(s);this.set("el",l),e=e||this.get("render"),e.append(l)}},{ATTRS:{el:{setter:function(e){this.$el=e,this.el=e[0]}},render:{},title:{value:"\u6dd8\u5b9d\u7f51"},src:{value:"//gtms01.alicdn.com/tps/i1/T1Kz0pXzJdXXXIdnjb-146-58.png"},href:{value:"//www.taobao.com"}}});return l}),KISSY.add("kg/header/1.4.2/nav/nav-xtpl",function(e,a,t,n){var r=function(e){function a(e,a,n){var r=e.data,i=e.affix;a.data+='\n        <li class="tb-header-nav-item"><a target="_blank" href="',o.line=4;var s=(t=i.href)!==n?t:r.href;a=a.writeEscaped(s),a.data+='">';var c=(t=i.text)!==n?t:r.text;return a=a.writeEscaped(c),a.data+="</a></li>\n        ",a}var t,n=this,r=n.root,i=n.buffer,s=n.scope,o=(n.runtime,n.name,n.pos),c=s.data,l=s.affix,d=r.nativeCommands,u=r.utils,h=(u.callFn,u.callDataFn,u.callCommand,d.range,d.foreach,d.forin,d.each);d["with"],d["if"],d.set,d.include,d.parse,d.extend,d.block,d.macro,d["debugger"];i.data+='<div class="tb-header-nav">\n    <ul>\n        ',o.line=3,o.line=3;var m=(t=l.items)!==e?t:(t=c.items)!==e?t:s.resolveLooseUp(["items"]);return i=h.call(n,s,{params:[m],fn:a},i),i.data+="\n    </ul>\n</div>",i};return r.TPL_NAME=n.name,r.version="kg",r}),KISSY.add("kg/header/1.4.2/nav/nav",["node","base","kg/xtemplate/4.2.0/runtime","./nav-xtpl","../events"],function(e,a){var t=a("node"),n=a("base"),r=a("kg/xtemplate/4.2.0/runtime"),i=a("./nav-xtpl"),s=a("../events"),o=(s.emitter,t.all),c=n.extend({initializer:function(){},render:function(e){var a=new r(i),t=a.render({items:this.get("items")}),n=o(t);this.set("el",n),e=e||this.get("render"),e.append(n)}},{ATTRS:{el:{setter:function(e){this.$el=e,this.el=e[0]}},items:{}}});return c}),KISSY.add("kg/header/1.4.2/types",["./market/market","./search/search","./logo/logo","./nav/nav"],function(e,a){function t(e){var a=[],t=new s({src:"//img.alicdn.com/tps/i2/TB1nff4IpXXXXc1XVXX.7lBQXXX-380-54.png",href:"//www.tmall.com",height:"27px"});e=e||{url:"/"};var n=new i({elCls:"tmall",primaryButton:"\u641c\u5929\u732b",primaryAction:"//list.tmall.com/search_product.htm",secondaryButton:"\u641c\u672c\u5e97",secondaryAction:e.url,secondaryParams:d});return a.push(t,n),a}function n(e){var a=[],t=new s({src:"//img.alicdn.com/tps/i4/TB1..d2JXXXXXajapXXqXA0IVXX-232-80.png",href:"//www.tmall.hk"});e=e||{url:"/"};var n=new i({elCls:"tmall-hk",primaryButton:"\u641c\u5929\u732b\u56fd\u9645",primaryAction:"//list.tmall.hk/search_product.htm",secondaryButton:"\u641c\u672c\u5e97",secondaryAction:e.url,secondaryParams:d});return a.push(t,n),a}var r=a("./market/market"),i=a("./search/search"),s=a("./logo/logo"),o=a("./nav/nav"),c={getDefaultLogo:function(){return new s},getDefaultSearch:function(e){return new i({secondaryShow:Number(e.id),secondaryAction:e.url+"search.htm"})},getDefaultMarket:function(){return new r}},l={"default":function(e){var a=[];return a.push(c.getDefaultLogo(),c.getDefaultMarket(),c.getDefaultSearch(e)),a},global:function(e){var a=[],t=new s({src:["//img.alicdn.com/tps/TB1H3VTLpXXXXX6aXXXXXXXXXXX-300-38.png","//img.alicdn.com/tps/TB1X.88LpXXXXcDXpXXXXXXXXXX-555-72.png"],href:"//g.taobao.com",title:"\u8db3\u4e0d\u51fa\u6237\uff0c\u6dd8\u904d\u5168\u7403"}),n=new o({items:[]}),r=new i({elCls:"global",primaryButton:"\u641c\u5168\u7403\u8d2d",primaryAction:"//g.taobao.com/brand_detail.htm",secondaryButton:"\u641c\u6dd8\u5b9d",secondaryAction:"//s.taobao.com/search"});return a.push(t,n,r),a},xiami:function(e){var a=[],t=new s({src:"//img.xiami.net/static/taonei/musichall/images/mh-logo.png",href:"//music.taobao.com/"}),n=c.getDefaultMarket(),r=new i({primaryButton:"\u641c\u7d22",primaryAction:"//music.taobao.com/market/music/list.php?_input_charset=utf-8",secondaryShow:Number(e.id),secondaryAction:e.url+"search.htm"});return a.push(t,n,r),a},tiaoshi:function(e){var a=[],t=new s({src:"//gtms02.alicdn.com/tps/i2/TB1lgaLGVXXXXcCXpXXAHEkKpXX-255-76.png",href:"//tiaoshi.taobao.com/"}),n=new i({elCls:"tiaoshi",primaryButton:"\u641c\u98df\u54c1",primaryAction:"//chi.taobao.com/itemlist/huichi2014.htm?style=grid&_input_charset=utf-8&cat=50002766,50035978,50008825,50042258,50103282,50103280,50106154,50108542",primaryParams:{style:"grid",_input_charset:"utf-8",cat:"50002766,50035978,50008825,50042258,50103282,50103280,50106154,50108542"},secondaryButton:"\u641c\u6dd8\u5b9d",secondaryAction:"//s.taobao.com/search"});return a.push(t,n),a},star:function(e){var a=[],t=new s({src:"//gtms01.alicdn.com/tps/i3/T1wWXuFbBbXXXFH6je-160-64.png",href:"//star.taobao.com"});return a.push(t,c.getDefaultMarket(),c.getDefaultSearch(e)),a},jiyoujia:function(e){var a=[],t=new s({src:"//img.alicdn.com/tps/i2/TB1fI7bHXXXXXc0XVXXlK5nGFXX-162-42.png",href:"//www.jiyoujia.com"});return a.push(t,c.getDefaultMarket(),c.getDefaultSearch(e)),a},zhizao:function(e){var a=[],t=new s({src:["//gtms04.alicdn.com/tps/i4/TB1W5W2KXXXXXX6XVXXw7lU9VXX-100-38.png","//gtms03.alicdn.com/tps/i3/TB1vHLjKXXXXXaDXpXXMBsZIVXX-199-76.png"],href:"//q.taobao.com"});return a.push(t,c.getDefaultMarket(),c.getDefaultSearch(e)),a},tmall:t,"miaosha-tmall":t,"miaosha-tmall-hk":n,"tmall-hk":n},d={_input_charset:"utf-8",search:"y",search_type:"item"};return{types:l,item:c,getItems:function(e){var a=e.type,t=e.shop,n=e.seller,r=e.item;return(l[a]||l["default"])(t,r,n)}}}),KISSY.add("kg/header/1.4.2/index",["./index.css","base","node","./container/container-xtpl","./types","kg/xtemplate/4.2.0/runtime"],function(e,a){a("./index.css");var t=a("base"),n=a("node"),r=a("./container/container-xtpl"),i=a("./types"),s=a("kg/xtemplate/4.2.0/runtime"),o=n.all,c=t.extend({initializer:function(){this.render()},render:function(){if(!this.get("rendered")){var a=i.getItems({type:this.get("type"),item:this.get("item")||{},shop:this.get("shop")||{},seller:this.get("seller")||{}});this.set("rendered",!0);var t=new s(r),n=t.render(),c=o(n);this.set("el",c);var l=o(".tb-header-content",c);e.each(a,function(e){e.render&&e.render(l)});var d=o(this.get("renderTo"));d.append(c),e.each(a,function(e){e.bind&&e.bind()})}}},{ATTRS:{el:{setter:function(e){this.$el=e,this.el=e[0]}},renderTo:{}}});return c});